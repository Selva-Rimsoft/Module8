---
output: word_document
---
###Regression Models Course Project - Assignment
##### Created by: Selva

### Executive Summmary
In this project, a data set of a collection of cars will be analysis, especially the relationship between a set of variables and miles per gallon. Particularly, following question will be answered by the data set:

"Is an automatic or manual transmission better for MPG"

"Quantifying how different is the MPG between automatic and manual transmissions?"

Briefly, cars with a manual transmission have a slightly better than automatic for MPG, but this different is statistical insignificant.

### Data Processing

We begin by loading in the mtcars dataset and transforming certain variables into factors.

```{r}
data(mtcars)
mtcars$vs <- as.factor(mtcars$vs)
mtcars$am <- as.factor(mtcars$am)
```

We mainly focus on the relationship between variables mpg (Miles/(US) gallon) and am (Transmission). Box plot shows that there's a good separation of groups based on gas mileage.

```{r}
boxplot(mpg ~ am, data = mtcars, xlab = "Transmission (0 = automatic, 1 = manual)")
```
But there are 10 predictor variables in the data set. Some may play bigger role to determination of mpg. An analysis of variance model is performed, as:

```{r}
analysis <- aov(mpg ~ ., data = mtcars)
summary(analysis)
```
The adjusted r-squared is 0.83 and this is our final model. Clearly, with cylinders and weight as confounding variables, the ceofficient of the am variable is small but has a large p-value. We cannot reject the hypothesis that the coefficient of am is 0.

To diagnostic the model, we apply the plot() to the object returned by the lm(). There is no discernible pattern found according to upper left graph. The normal Q-Q plot (upper right) indicates the model met the normality assumption. Scale-Location graph (bottom left) shows constant variance assumption are satisfied.

```{r}
initialmodel <- lm(mpg ~ ., data = mtcars)
bestmodel <- step(initialmodel, direction = "both")
```

In this section, we have the residual plots of our regression model along with computation of regression diagnostics for our liner model. This excercise helped us in examining the residuals and finding leverage points to find any potential problems with the model.


```{r}
par(mfrow=c(1, 2))
plot(bestmodel)
```

## Conclusion
The objective was to answer two questions:

"Is an automatic or manual transmission better for MPG?"
Manual Transmission is better for MPG. The boxplot and t.test show that automatic transmission gives an mpg of 17.1473684, while manual transmission gives an mpg of 24.3923077.

"Quantify the MPG difference between automatic and manual transmissions"
Based on the regression model obtained, it can be concluded that:

mpg increases by 1.8092114 in Manual Transmission, when considering the effect of cyl, hp and wt.


## Appendix

#### Figure 1 - Pairs plot for the "mtcars" dataset
```{r}
pairs(mpg ~ ., data = mtcars)
```

####  Figure 2 - Boxplot of miles per gallon by transmission type

```{r}
boxplot(mpg ~ am, data = mtcars, col = (c("red","blue")), ylab = "Miles Per Gallon", xlab = "Transmission Type")
```

